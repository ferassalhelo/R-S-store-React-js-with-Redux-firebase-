{"version":3,"sources":["assets/imgs/notimg.png","pages/NewProductPage/index.js","components/ButtonSpinner/index.js","helper/validationFunction.js"],"names":["module","exports","__webpack_require__","p","NewProductPage","userData","useSelector","reducers","user","products","dispatch","useDispatch","_useState","useState","_useState2","Object","C_Users_ASUS_Desktop_Files_react_projects_R_S_storee_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__","file","setFile","react__WEBPACK_IMPORTED_MODULE_1___default","a","createElement","className","alt","src","URL","createObjectURL","img","formik__WEBPACK_IMPORTED_MODULE_3__","initialValues","name","price","supplier","email","supplierName","description","category","allergens","onSubmit","values","_ref","resetForm","uploadImgAndAddProduct","validationSchema","productDataSchema","required","type","id","onChange","e","target","files","placeholder","component","value","disabled","productProccess","_components_ButtonSpinner__WEBPACK_IMPORTED_MODULE_4__","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","ButtonSpinner","role","d","__webpack_exports__","SignupSchema","SigninSchema","yup__WEBPACK_IMPORTED_MODULE_0__","Yup","shape","min","max","password","matches","phone","typeError","positive","integer","urlTitle","ipnNumber","CommercialRegistrationNo","userType","oneOf"],"mappings":"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","file":"static/js/2.40d9ae94.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/notimg.5a71fa48.png\";","import React, { useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Formik, Field, Form, ErrorMessage } from \"formik\";\r\nimport ButtonSpinner from \"../../components/ButtonSpinner\";\r\nimport img from \"../../assets/imgs/notimg.png\";\r\nimport { uploadImgAndAddProduct } from \"../../redux/actions/productsActions\";\r\nimport { productDataSchema } from \"../../helper/validationFunction\";\r\n\r\nconst NewProductPage = () => {\r\n  const userData = useSelector((reducers) => reducers.user.userData);\r\n  const user = useSelector((reducers) => reducers.products);\r\n  let dispatch = useDispatch();\r\n  let [file, setFile] = useState(\"\");\r\n  let handleFile = (e) => {\r\n    setFile(e.target.files[0]);\r\n  };\r\n\r\n  return (\r\n    <div className=\"row container m-auto my-0 my-lg-5 my-5\">\r\n      <h1 className=\"text-uppercase col-12\">New Product</h1>\r\n      <div className=\"col-12 col-md-4 m-auto\">\r\n        {file !== \"\" ? (\r\n          <img\r\n            className=\"rounded-2 w-100\"\r\n            alt=\"img\"\r\n            src={file !== \"\" ? URL.createObjectURL(file) : file}\r\n          />\r\n        ) : (\r\n          <img className=\"rounded-2 w-100\" alt=\"img\" src={img} />\r\n        )}\r\n      </div>\r\n      <div className=\"col-12 col-md-8 ps-lg-5 p-0\">\r\n        <Formik\r\n          initialValues={{\r\n            name: \"\",\r\n            price: \"\",\r\n            supplier: userData.email,\r\n            supplierName: userData.name,\r\n            description: \"\",\r\n            category: \"\",\r\n            allergens: \"\",\r\n          }}\r\n          onSubmit={(values, { resetForm }) => {\r\n            dispatch(uploadImgAndAddProduct(values, file));\r\n            resetForm();\r\n            setFile(\"\");\r\n          }}\r\n          validationSchema={productDataSchema}\r\n        >\r\n          <Form>\r\n            <div className=\"row align-items-center mt-5\">\r\n              <input\r\n                required\r\n                className=\"d-block border-0 outline-none col\"\r\n                type=\"file\"\r\n                id=\"file\"\r\n                onChange={handleFile}\r\n              />\r\n            </div>\r\n            <Field\r\n              className=\"d-block p-2 w-100 border-0 border-bottom border-dark table-bordered my-4 outline-none\"\r\n              id=\"name\"\r\n              name=\"name\"\r\n              placeholder=\"Name\"\r\n            />\r\n            <ErrorMessage className=\"text-main d-block\" name=\"name\" />\r\n            <Field\r\n              className=\"d-block p-2 w-100 border-0 border-bottom border-dark table-bordered my-4 outline-none\"\r\n              id=\"price\"\r\n              name=\"price\"\r\n              placeholder=\"Price\"\r\n              type=\"number\"\r\n            />{\" \"}\r\n            <ErrorMessage name=\"price\" />\r\n            <Field\r\n              className=\"d-block p-2 w-100 border-0 border-bottom border-dark table-bordered my-4 outline-none\"\r\n              id=\"description\"\r\n              name=\"description\"\r\n              placeholder=\"description\"\r\n              type=\"text\"\r\n            />{\" \"}\r\n            <ErrorMessage name=\"description\" />\r\n            <Field\r\n              className=\"d-block p-2 w-100 border-0 border-bottom border-dark table-bordered my-4 outline-none\"\r\n              id=\"allergens\"\r\n              name=\"allergens\"\r\n              placeholder=\" Allergens\"\r\n              type=\"text\"\r\n            />\r\n            <ErrorMessage name=\"allergens\" />\r\n            <Field\r\n              id=\"category\"\r\n              name=\"category\"\r\n              component=\"select\"\r\n              className=\"d-block p-2 w-100 border-0 border-bottom border-dark table-bordered my-4 outline-noned-block p-2 w-100 border-0 border-bottom border-dark table-bordered my-4 outline-none\"\r\n            >\r\n              <option value=\"\">Chose Category</option>\r\n              <option value=\"chocolate\">chocolate</option>\r\n              <option value=\"toffee\">toffee</option>\r\n              <option value=\"Arabic sweets\">Arabic sweets</option>\r\n              <option value=\"cake\">cake</option>\r\n              <option value=\"caramel\">caramel</option>\r\n              <option value=\"biscuit \">biscuit </option>\r\n            </Field>\r\n            <ErrorMessage name=\"category\" />\r\n            <button\r\n              className=\"btn bg-main fw-bold d-block my-5 px-5 py-2 w-100 text-uppercase text-white\"\r\n              type=\"submit\"\r\n              disabled={user.productProccess}\r\n            >\r\n              {user.productProccess ? <ButtonSpinner /> : \"add product\"}\r\n            </button>\r\n          </Form>\r\n        </Formik>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default NewProductPage;\r\n","import React from \"react\";\r\n\r\nfunction ButtonSpinner() {\r\n  return <div className=\"spinner-border text-light\" role=\"status\"></div>;\r\n}\r\n\r\nexport default ButtonSpinner;\r\n","import * as Yup from \"yup\";\r\n\r\nexport const productDataSchema = Yup.object().shape({\r\n  name: Yup.string()\r\n    .min(2, \"*Too Short!\")\r\n    .max(30, \"*Too Long!\")\r\n    .required(\"*name is required\"),\r\n  price: Yup.number()\r\n    .min(1, \"Must be more than 0\")\r\n    .required(\"*price is required\"),\r\n  description: Yup.string()\r\n    .min(20)\r\n    .max(1000, \"too long!\")\r\n    .required(\"*description number is required\"),\r\n  allergens: Yup.string(),\r\n  category: Yup.string().required(),\r\n});\r\n\r\nexport const SignupSchema = Yup.object().shape({\r\n  name: Yup.string()\r\n    .min(2, \"*Too Short!\")\r\n    .max(70, \"*Too Long!\")\r\n    .required(\"*name is required\"),\r\n  email: Yup.string()\r\n    .email(\"*Invalid email\")\r\n    .required(\"*email is required\"),\r\n  password: Yup.string()\r\n    .required(\"*password is required\")\r\n    .min(8, \"*Password is too short - should be 8 chars minimum.\")\r\n    .matches(/[a-zA-Z]/, \"*Password can only contain Latin letters.\"),\r\n  phone: Yup.number()\r\n    .typeError(\"*That doesn't look like a phone number\")\r\n    .positive(\"*A phone number can't start with a minus\")\r\n    .integer(\"*A phone number can't include a decimal point\")\r\n    .min(8)\r\n    .required(\"*A phone number is required\"),\r\n  urlTitle: Yup.string()\r\n    .matches(/((https?):\\/\\/)?(www.)+[a-z0-9]/, \"*Enter correct url!\")\r\n    .required(\"*Please enter url tile\"),\r\n  ipnNumber: Yup.number(\"*please enter your IBAN Number\")\r\n    .required(\"*IPN number is required\")\r\n    .min(7, \"*Short!\"),\r\n  CommercialRegistrationNo: Yup.number(\r\n    \"*please enter your Commercial Registration Number\"\r\n  )\r\n    .required(\"*Commercial Registration number is required\")\r\n    .min(7, \"*Short!\"),\r\n  userType: Yup.string()\r\n    .required()\r\n    .oneOf([\"supplier\", \"retailer\"], \"Selecting the gender field is required\"),\r\n});\r\n\r\nexport const SigninSchema = Yup.object().shape({\r\n  email: Yup.string()\r\n    .email(\"*Invalid email\")\r\n    .required(\"*email is required\"),\r\n  password: Yup.string()\r\n    .required(\"*assword is required\")\r\n    .min(6, \"*Password is too short - should be 8 chars minimum.\")\r\n    .matches(/[a-zA-Z]/, \"*Password can only contain Latin letters.\"),\r\n});\r\n"],"sourceRoot":""}